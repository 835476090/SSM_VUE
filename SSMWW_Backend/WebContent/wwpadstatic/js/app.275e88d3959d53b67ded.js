webpackJsonp([1],{HkpV:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("IvJb"),o=s("zO6J"),n={data:function(){return{salename:"test",IsLogin:!1}},methods:{saleinfo:function(){},btnLogin:function(){this.IsLogin=this.checkLogin(),this.IsLogin?this.$router.push({path:"/goodslist"}):this.$router.push({path:"/Login"})},btnRegister:function(){this.IsLogin=this.checkLogin(),this.IsLogin?this.$router.push({path:"/goodslist"}):this.$router.push({path:"/Register"})},exitAccount:function(){localStorage.setItem("salename",""),this.IsLogin=!1,console.log("退出"),this.$router.push({path:"/Login"})},checkLogin:function(){var t=localStorage.getItem("salename");return this.salename=t,null!=t&&""!=t}},created:function(){this.IsLogin=this.checkLogin()}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("nav",{staticClass:"navbar navbar-expand-sm bg-light navbar-light",staticStyle:{"background-color":"#e3f2fd"}},[s("ul",{staticClass:"navbar-nav"},[s("li",[s("router-link",{staticClass:"nav-link",staticStyle:{color:"blue","font-size":"1em"},attrs:{to:"/"}},[t._v("主页")])],1),t._v(" "),s("li",[s("router-link",{staticClass:"nav-link",staticStyle:{color:"blue","font-size":"1em"},attrs:{to:"/GoodsList"}},[t._v("商品列表")])],1),t._v(" "),s("li",[s("router-link",{staticClass:"nav-link",staticStyle:{color:"blue","font-size":"1em"},attrs:{to:"/GoodsOrders"}},[t._v("订单管理")])],1)]),t._v(" "),s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{directives:[{name:"show",rawName:"v-show",value:!t.IsLogin,expression:"!IsLogin"}]},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn  btn-sm btn-info",on:{click:t.btnLogin}},[t._v("登录")]),t._v(" "),s("button",{staticClass:"btn  btn-sm btn-info",on:{click:t.btnRegister}},[t._v("注册")])])]),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.IsLogin,expression:"IsLogin"}]},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn  btn-sm btn-info",on:{click:t.saleinfo}},[t._v(t._s(t.salename))]),t._v(" "),s("button",{staticClass:"btn  btn-sm btn-info",on:{click:t.exitAccount}},[t._v("退出")])])])])])])},staticRenderFns:[]},r={components:{appHeader:s("C7Lr")(n,i,!1,null,null,null).exports},created:function(){}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container col-lg-10"},[e("appHeader")],1),this._v(" "),e("div",{staticClass:"container col-lg-10"},[e("router-view")],1)])},staticRenderFns:[]};var c=s("C7Lr")(r,l,!1,function(t){s("HkpV")},null,null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"carousel slide",attrs:{id:"testid","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#testid","data-slide-to":"0"}}),t._v(" "),s("li",{attrs:{"data-target":"#testid","data-slide-to":"1"}}),t._v(" "),s("li",{attrs:{"data-target":"#testid","data-slide-to":"2"}})]),t._v(" "),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{staticClass:"d-block w-100",attrs:{src:"wwpadstatic/img/b.jpg",alt:"First slide"}})]),t._v(" "),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:"wwpadstatic/img/a.jpg",alt:"Second slide"}})]),t._v(" "),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:"wwpadstatic/img/c.jpg",alt:"Third slide"}})])]),t._v(" "),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#testid",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),t._v(" "),s("a",{staticClass:"carousel-control-next",attrs:{href:"#testid",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Next")])])])])}]},u=s("C7Lr")(null,d,!1,null,null,null).exports,h={name:"goodslist",data:function(){return{pagenow:1,pagelimit:10,goodscount:0,goodsALLcount:0,pagesizes:[5,10,15,20],pagelist:[],selectgoods:[],resultgoods:[],goodsClassJO:{},resultAddress:[],nowclass:"全部",searchText:"",postjsonparam:{},dialogVisible:!1,btnText:"新建地址",editerIndex:0,isNewAddress:!1,selectAddress:"",newAddress:"",form:{"地址号":"","接收人":"","接收电话":"","收货地址":""}}},computed:{countMoney:function(){var t=0;for(var e in this.selectgoods){var s=this.selectgoods[e];t+=s.number*s.price}return t}},methods:{btnsearch:function(){var t=this;console.log(this.searchText),""==!this.searchText?this.$axios.get("http://localhost:8080/SSMWW/goodsSearch.do?searchText="+this.searchText).then(function(e){console.log(e.data),t.resultgoods=e.data,t.goodscount=e.data.length}):this.$message({message:"搜索内容不能为空",type:"warning"})},btnChange:function(){this.isNewAddress=!this.isNewAddress,this.btnText="选择地址"==this.btnText?"新建地址":"选择地址"},enterOrder:function(){var t=this;if(console.log("this.isNewAddress:"+this.isNewAddress),this.isNewAddress){var e=this.form,s=e.接收人,a=e.接收电话,o=e.收货地址,n={};n.receivename=s,n.receivephone=a,n.address=o,console.log(n),this.$axios.post("http://localhost:8080/SSMWW/addAddress.do",n).then(function(e){var s=e.data;console.log(s),"200"==s.code&&"添加成功"==s.msg?(t.$axios.get("http://localhost:8080/SSMWW/addressMaxId.do").then(function(e){console.log(e.data);var s=e.data;t.postjsonparam.addressid=s,t.submitOrder(),t.dialogVisible=!1}),t.$message({message:"恭喜你，添加成功",type:"success"})):t.$message({message:"不好意思，添加失败",type:"warning"})})}else{var i=this.selectAddress.split("|"),r=this.resultAddress[i[0]-1].addressid;this.postjsonparam.addressid=r,this.submitOrder(),this.dialogVisible=!1}},editAddress:function(){var t=this;this.form.地址号="",this.form.接收人="",this.form.接收电话="",this.form.收货地址="",this.resultAddress=[],this.dialogVisible=!0,this.$axios.get("http://localhost:8080/SSMWW/addressALL.do").then(function(e){t.resultAddress=e.data})},submitOrder:function(){var t=this;Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t},this.postjsonparam.confirmdate=(new Date).format("yyyy-MM-dd hh:mm:ss"),this.postjsonparam.countprice=this.countMoney;var e=localStorage.getItem("salename");this.$axios.get("http://localhost:8080/SSMWW/findSaleidBySaleName.do?salename="+e).then(function(e){t.postjsonparam.saleid=e.data,t.postjsonparam.orderdetails=t.selectgoods,t.$axios.get("http://localhost:8080/SSMWW/getToDayMaxOrderCode.do?date="+(new Date).format("yyyy-MM-dd")).then(function(e){var s=e.data,a=void 0;a="200"==s.code?(new Date).format("yyyyMMdd")+(parseInt(s.maxordercode.substring(8))+1):a=(new Date).format("yyyyMMdd")+"1001",t.postjsonparam.ordercode=a,t.$axios.post("http://localhost:8080/SSMWW/addGoodsOrder.do",t.postjsonparam).then(function(e){"200"==e.data.code?(t.$message({message:"商品订单已提交成功",type:"success"}),t.selectgoods=[]):t.$message({message:"订单提交失败",type:"warning"})})})})},addToBasket:function(t,e,s,a){var o={goodsid:t,goodsname:e,price:s,index:a,number:1};if(this.selectgoods.length>0){var n=this.selectgoods.filter(function(t){return t.goodsname===e&&t.price===s});null!=n&&n.length>0?n[0].number++:this.selectgoods.push(o)}else this.selectgoods.push(o);this.selectgoods.push()},reduce:function(t){t.number--,t.number<1&&this.removeSelectGoods(t)},add:function(t){t.number++},handleSizeChange:function(t){this.pagelimit=t,console.log(this.nowclass+"----------------"),"全部"===this.nowclass?this.getGoodsAll():this.getGoodsByClass(this.nowclass)},handleCurrentChange:function(t){this.pagenow=t,"全部"===this.nowclass?this.getGoodsAll():this.getGoodsByClass(this.nowclass)},removeSelectGoods:function(t){this.selectgoods.splice(this.selectgoods.indexOf(t),1)},getGoodsAll:function(){var t=this;this.nowclass="全部",this.$axios.get("http://localhost:8080/SSMWW/goodsALLByPage.do?pageNow="+this.pagenow+"&pageLimit="+this.pagelimit).then(function(e){console.log(e.data),t.resultgoods=e.data,t.goodscount=t.goodsALLcount})},getGoodsByClass:function(t){var e=this;this.nowclass=t,console.log(t),this.$axios.get("http://localhost:8080/SSMWW/goodsByClassAndPage.do?goodsclass="+t+"&pageNow="+this.pagenow+"&pageLimit="+this.pagelimit).then(function(t){console.log(t.data),e.resultgoods=t.data,e.goodscount=e.resultgoods.length})}},created:function(){var t=this;null==localStorage.getItem("salename")||(this.$axios.get("http://localhost:8080/SSMWW/goodsCount.do?").then(function(e){t.goodsALLcount=e.data,t.goodscount=t.goodsALLcount}),this.$axios.get("http://localhost:8080/SSMWW/goodsClassALLMap.do").then(function(e){t.goodsClassJO=e.data}),this.$axios.get("http://localhost:8080/SSMWW/goodsALLByPage.do?pageNow="+this.pagenow+"&pageLimit="+this.pagelimit).then(function(e){t.resultgoods=e.data}))}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"center offset-md-4"},[s("form",{staticClass:"input-group",on:{submit:function(e){return e.preventDefault(),t.btnsearch(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入要搜索的内容"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._v(" "),s("input",{staticClass:"btn btn-outline-success",staticStyle:{"margin-left":"1px"},attrs:{type:"submit",value:"搜索"}})])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-2"},[s("div",{staticClass:"list-group"},[s("button",{staticClass:"list-group-item list-group-item-action",on:{click:function(e){t.getGoodsAll()}}},[t._v("\n\t\t\t    全部\n\t\t\t    "),s("span",{staticClass:"badge badge-pill badge-success"},[t._v(t._s(t.goodsALLcount))])]),t._v(" "),t._l(t.goodsClassJO,function(e,a){return s("button",{staticClass:"list-group-item list-group-item-action",on:{click:function(e){t.getGoodsByClass(a)}}},[t._v("\n\t\t\t\t  "+t._s(a)),s("span",{staticClass:"badge badge-pill badge-success"},[t._v(t._s(e))])])})],2),t._v(" "),s("br")]),t._v(" "),s("div",{staticClass:"col-lg-6",staticStyle:{"background-color":"#fff"}},[s("table",{staticClass:"table"},[t._m(0),t._v(" "),s("tbody",t._l(t.resultgoods,function(e,a){return s("tr",[s("td",[t._v(t._s(e.goodsname))]),t._v(" "),s("td",[s("small",[s("i",[t._v(t._s(e.goodsid))])])]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-sm btn-outline-success",on:{click:function(s){t.addToBasket(e.goodsid,e.goodsname,e.price,a)}}},[t._v("+")])])])}))]),t._v(" "),s("div",{staticClass:"center offset-md-2"},[s("el-pagination",{attrs:{small:"","current-page":t.pagenow,"page-sizes":t.pagesizes,"page-size":t.pagelimit,layout:"total, sizes, prev, pager, next, jumper",total:t.goodscount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),s("div",{staticClass:"col-lg-4"},[t.selectgoods.length>0?s("div",{staticClass:"goodsbasket",staticStyle:{"background-color":"#fff"}},[s("table",{staticClass:"table"},[t._m(1),t._v(" "),s("tbody",t._l(t.selectgoods,function(e){return s("tr",[s("td",[s("button",{staticClass:"btn btn-sm btn-light",on:{click:function(s){t.reduce(e)}}},[t._v("-")]),t._v(" "),s("span",[t._v(t._s(e.number))]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-light",on:{click:function(s){t.add(e)}}},[t._v("+")])]),t._v(" "),s("td",[t._v(t._s(e.goodsname))]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(s){t.removeSelectGoods(e)}}},[t._v("x")])])])}))]),t._v(" "),s("p",[t._v("总价:"+t._s(t.countMoney)+" RMB")]),t._v(" "),s("button",{staticClass:"btn btn-success btn-block",on:{click:t.editAddress}},[t._v("选择地址确认订单>>")])]):s("div",{staticClass:"basketText"},[t._v("\n\t\t\t\t购物车暂时没有商品\n\t\t\t")])]),t._v(" "),s("el-dialog",{attrs:{title:"选择地址",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("form",[s("div",{staticClass:"form-group row"},[s("div",{staticClass:"input-group col-sm-12"},[s("el-button",{on:{click:t.btnChange}},[t._v(t._s(t.btnText))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectAddress,expression:"selectAddress"},{name:"show",rawName:"v-show",value:!t.isNewAddress,expression:"!isNewAddress"}],staticClass:"custom-select col-sm-10",attrs:{id:"inlineFormCustomSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectAddress=e.target.multiple?s:s[0]}}},t._l(t.resultAddress,function(e,a){return s("option",[t._v("\n\n\t\t\t\t\t\t\t"+t._s(a+1)+" | "+t._s(e.receivename)+" | "+t._s(e.receivephone)+" | "+t._s(e.address)+"\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t")])}))],1)]),t._v(" "),t._l(t.form,function(e,a,o){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isNewAddress,expression:"isNewAddress"}]},["地址号"!=a?s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 offset-sm-1 col-form-label",attrs:{for:"aaa",disabled:"地址号"==a}},[t._v(t._s(a))]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("input",{directives:[{name:"model",rawName:"v-model:value",value:t.form[a],expression:"form[key]",arg:"value"}],staticClass:"form-control",attrs:{type:"text",id:"aaa"},domProps:{value:t.form[a]},on:{input:function(e){e.target.composing||t.$set(t.form,a,e.target.value)}}})])]):t._e()])})],2),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.enterOrder}},[t._v("确 定")])],1)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-default"},[e("tr",[e("th",[this._v("商品名称")]),this._v(" "),e("th",[this._v("商品编号")]),this._v(" "),e("th",[this._v("价格")]),this._v(" "),e("th",[this._v("加入")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-default"},[e("tr",[e("th",[this._v("数量")]),this._v(" "),e("th",[this._v("商品名称")]),this._v(" "),e("th",[this._v("价格")]),this._v(" "),e("th",[this._v("删除")])])])}]},g=s("C7Lr")(h,p,!1,null,null,null).exports,m=s("3cXf"),v=s.n(m),f={name:"orderlist",data:function(){return{pagenow:1,pagelimit:10,ordersize:0,pagesizes:[5,10,15,20],resultorders:[],selectOrders:[],pNOrderNum:0,pNRealOrderNum:0,isAll:!1,orderDetails:[{goodsname:"青铜水龙头",price:15,number:3,goodsid:1003},{goodsname:"黄金水龙头",price:30,number:1,goodsid:1004}],dialogTableVisible:!1,titleText:"订单详情",pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-6048e5),t.$emit("pick",[s,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-2592e6),t.$emit("pick",[s,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,s=new Date;s.setTime(s.getTime()-7776e6),t.$emit("pick",[s,e])}}]},selectDate:[],searchText:""}},methods:{test:function(t){console.log(t)},btnsearch:function(){var t=this;Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t};var e="",s="";null==this.selectDate?(e="",s=""):2!=this.selectDate.length?(e="",s=""):(e=new Date(this.selectDate[0]).format("yyyy-MM-dd hh:mm:ss"),s=new Date(this.selectDate[1]).format("yyyy-MM-dd hh:mm:ss")),""==this.searchText&&""==e?this.getOrderALL():""==this.searchText||null==this.searchText?this.$axios.get("http://localhost:8080/SSMWW/goodsOrderALLByDate.do?startDate="+e+"&endDate="+s).then(function(e){console.log(e.data),t.resultorders=e.data,t.goodscount=e.data.length}):""==e||""==s?this.$axios.get("http://localhost:8080/SSMWW/goodsOrderALLBySearch.do?searchText="+this.searchText).then(function(e){console.log(e.data),t.resultorders=e.data,t.goodscount=e.data.length}):this.$axios.get("http://localhost:8080/SSMWW/goodsOrderALLBySearchAndDate.do?searchText="+this.searchText+"&startDate="+e+"&endDate="+s).then(function(e){console.log(e.data),t.resultorders=e.data,t.goodscount=e.data.length})},setCellStyle:function(t){t.row,t.column,t.rowIndex;if(4===t.columnIndex)return"color:red"},handleSelectionChange:function(t){console.log(t),this.selectOrders=t},printupdate:function(){console.log("printupdate");var t;if(t=this.selectOrders.map(function(t){return t.ordercode}),console.log(t),0===t.length)this.$notify({title:"打印提示",message:this.$createElement("i",{style:"color: blue"},"请先选择要打印的订单哦"),duration:2e3});else{localStorage.setItem("ordercodes",v()(t));var e=this.$router.resolve({name:"print"});window.open(e.href,"_blank")}},print:function(){var t=this,e=this.selectOrders.map(function(t,e){return!!t&&{val:t,index:e}}).filter(function(t){return!1!==t.val&&t}).map(function(t){return t.index}),s=[];if(parseInt(this.ordersize%this.pagelimit==0?this.ordersize/this.pagelimit:this.ordersize/this.pagelimit+1)==this.pagenow){console.log(this.pagenow,this.pagelimit,this.ordersize,this.pNOrderNum);for(var a=0;a<this.ordersize%this.pagelimit;a++)s[a]=this.resultorders[e[a]].ordercode}else s=e.map(function(e){return t.resultorders[e].ordercode});if(console.log(s),0===s.length)this.$notify({title:"打印提示",message:this.$createElement("i",{style:"color: blue"},"请先选择要打印的订单哦"),duration:2e3});else{localStorage.setItem("ordercodes",v()(s));var o=this.$router.resolve({name:"print"});window.open(o.href,"_blank")}},dodelete:function(t){var e=this;this.$axios.get("http://localhost:8080/SSMWW/deleteOrderDetailsByOrderCode.do?ordercode="+t.ordercode).then(function(t){console.log(t.data);var s=t.data;"200"==s.code&&"删除成功"==s.msg?(e.$message({message:"恭喜你，删除成功",type:"success"}),e.btnsearch()):e.$message({message:"不好意思，删除失败",type:"warning"})})},getDetails:function(t){var e=this;this.dialogTableVisible=!0,this.$axios.get("http://localhost:8080/SSMWW/orderDetailsByOrderCode.do?ordercode="+t.ordercode).then(function(s){e.orderDetails=s.data,e.titleText=t.ordercode+"号订单"})},getOrderALL:function(){var t=this;this.selectOrders=[],this.$axios.get("http://localhost:8080/SSMWW/goodsOrderALL.do").then(function(e){t.resultorders=e.data})},getOrder:function(){var t=this;this.selectOrders=[],this.$axios.get("http://localhost:8080/SSMWW/goodsOrderALLByPage.do?pageNow="+this.pagenow+"&pageLimit="+this.pagelimit).then(function(e){t.resultorders=e.data,t.pNOrderNum=t.ordersize>t.pagelimit?t.pagelimit:t.ordersize;for(var s=0;s<t.pNOrderNum;s++)t.selectOrders.push(t.isAll)})},getOrderSize:function(){var t=this;this.$axios.get("http://localhost:8080/SSMWW/goodsOrderCount.do").then(function(e){t.ordersize=e.data})}},created:function(){var t=localStorage.getItem("salename");console.log(t),null==t||this.getOrderALL()}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"background-color":"#fff"},attrs:{id:"maindiv"}},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4",staticStyle:{margin:"5px"}},[s("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions2},model:{value:t.selectDate,callback:function(e){t.selectDate=e},expression:"selectDate"}})],1),t._v(" "),s("div",{staticClass:"col-lg-4",staticStyle:{margin:"2px"}},[s("form",{staticClass:"input-group",on:{submit:function(e){return e.preventDefault(),t.btnsearch(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control ",attrs:{type:"text",placeholder:"输入收货人或者电话搜索"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._v(" "),s("input",{staticClass:"btn btn-outline-success",staticStyle:{"margin-left":"1px"},attrs:{type:"submit",value:"搜索"}})])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.getOrderALL}},[t._v("全部订单")])])]),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%","text-align":"center","font-size":"15px"},attrs:{data:t.resultorders,border:"","max-height":"700","tooltip-effect":"dark","cell-style":t.setCellStyle},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"ordercode",type:"index",label:"序"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"ordercode",label:"订单号"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"confirmdate",label:"下单时间"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"countprice",label:"总价",width:"70"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"receivename",label:"收货人"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"receivephone",label:"收货电话"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"address",label:"收货地址"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",label:"详情",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("button",{staticClass:"btn btn-sm btn-outline-success",on:{click:function(s){t.getDetails(e.row)}}},[t._v("详细")])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"center",label:"删除",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(s){t.dodelete(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),s("div",{staticClass:"col-lg-12"},[s("el-dialog",{attrs:{title:t.titleText,visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[s("el-table",{attrs:{data:t.orderDetails}},[s("el-table-column",{attrs:{property:"goodsname",label:"商品名称",width:"200"}}),t._v(" "),s("el-table-column",{staticStyle:{color:"red"},attrs:{property:"price",label:"单价",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{property:"number",label:"个数",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{property:"confirmdate",label:"下单时间"}})],1)],1)],1)])},staticRenderFns:[]},b=s("C7Lr")(f,_,!1,null,null,null).exports,w={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("Addgoods")])},staticRenderFns:[]},C=s("C7Lr")(null,w,!1,null,null,null).exports,y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mb-5"},[s("div",{staticClass:"col-4"},[s("div",{staticClass:"list-group mb-5"},[s("router-link",{staticClass:"nav-link",attrs:{tag:"li",to:{name:"aboutone"}}},[s("a",{staticClass:"list-group-item list-group-item-action"},[t._v("第一页")])]),t._v(" "),s("router-link",{staticClass:"nav-link",attrs:{tag:"li",to:{name:"abouttwo"}}},[s("a",{staticClass:"list-group-item list-group-item-action"},[t._v("第二页")])]),t._v(" "),s("router-link",{staticClass:"nav-link",attrs:{tag:"li",to:{name:"aboutthree"}}},[s("a",{staticClass:"list-group-item list-group-item-action"},[t._v("第三页")])]),t._v(" "),s("router-link",{staticClass:"nav-link",attrs:{tag:"li",to:{name:"aboutfour"}}},[s("a",{staticClass:"list-group-item list-group-item-action"},[t._v("第四页")])])],1)]),t._v(" "),s("div",{staticClass:"col-8"},[s("router-view")],1)])])},staticRenderFns:[]},x=s("C7Lr")(null,y,!1,null,null,null).exports,S={data:function(){return{salename:"",password:"",nIsEmpty:!1,psIsEmpty:!1,nAlert:"账号不能为空哦",psAlert:"密码不能为空哦",Issuccess:!1,Isdanger:!1,classSelect:"",altermsg:""}},methods:{onSubmit:function(){var t=this;if(this.Issuccess&&""!=this.salename&&""!=this.password){var e=new URLSearchParams;e.append("salename",this.salename),e.append("password",this.password),this.$axios.post("http://localhost:8080/SSMWW/login.do",e).then(function(e){var s=e.data;console.log(s),200==s.code?(localStorage.setItem("salename",t.salename),t.salename="",t.password="",t.nIsEmpty=!1,t.psIsEmpty=!1,t.Issuccess=!1,t.Isdanger=!1,t.$message({message:"登录成功！",type:"success"}),t.$router.push({path:"goodslist"})):303==s.code?t.$message.error("登录失败，密码错误！"):404==s.code?t.$message.error("登录失败,编辑框内容不能为空！"):t.$message.error("登录失败,网络异常！")})}else this.$message({message:"表单数据不合法,请更正后重试！",type:"warning"})},checkSaleName:function(){var t=this;this.nIsEmpty=""===this.salename,this.$axios.get("http://localhost:8080/SSMWW/checkname.do?salename="+this.salename).then(function(e){var s=e.data;console.log(s),t.nIsEmpty?(t.classSelect="invalid-feedback",t.Issuccess=!1,t.Isdanger=!1):s?(t.Issuccess=!0,t.Isdanger=!1,t.classSelect="valid-feedback",t.altermsg="这个是本网站的老用户了哦，快输入密码登录吧"):s||(t.Issuccess=!1,t.Isdanger=!0,t.classSelect="invalid-feedback",t.altermsg="你输入的账号可能还不存在，赶快去注册吧")})},checkPassWord:function(){this.psIsEmpty=""===this.password}},created:function(){var t=localStorage.getItem("salename");null==t||""==t?console.log("还没有登录"):console.log("已经登录过了用户名："+t)}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-md-12 col-lg-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("img",{staticClass:"img-fluid center-block mx-auto d-block",attrs:{src:"https://cn.vuejs.org/images/logo.png"}}),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"sn"}},[t._v("用户名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.salename,expression:"salename"}],staticClass:"form-control",class:{"is-valid":t.Issuccess,"is-invalid":t.Isdanger},attrs:{placeholder:"请输入用户名",type:"text",id:"sn"},domProps:{value:t.salename},on:{blur:t.checkSaleName,input:function(e){e.target.composing||(t.salename=e.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.Isdanger||t.Issuccess,expression:"Isdanger||Issuccess"}],class:[t.classSelect]},[t._v("\n\t\t\t\t          "+t._s(t.altermsg)+"\n\t\t\t\t        ")]),t._v(" "),t.nIsEmpty?s("label",{staticClass:"alert alert-warning",attrs:{for:"password"}},[t._v(t._s(t.nAlert))]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"ps"}},[t._v("密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"请输密码",type:"password",id:"ps"},domProps:{value:t.password},on:{blur:t.checkPassWord,input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.psIsEmpty?s("label",{staticClass:"alert alert-warning",attrs:{for:"password"}},[t._v(t._s(t.psAlert))]):t._e()]),t._v(" "),s("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("登录")])])])])])])},staticRenderFns:[]},I=s("C7Lr")(S,k,!1,null,null,null).exports,$={data:function(){return{salename:"",password:"",enterpassword:"",nIsEmpty:!1,psIsEmpty:!1,epsIsEmpty:!1,nAlert:"账号不能为空哦",psAlert:"密码不能为空哦",epsAlert:"密码不能为空哦",Issuccess:!1,Isdanger:!1,classSelect:"",altermsg:""}},methods:{onSubmit:function(){var t=this,e=new URLSearchParams;e.append("salename",this.salename),e.append("password",this.password),this.password===this.enterpassword&&this.Issuccess&&""!=this.password&&""!=this.enterpassword?this.$axios.post("http://localhost:8080/SSMWW/saleRegister.do",e).then(function(e){var s=e.data;console.log(s),200==s.code?(t.salename="",t.password="",t.nIsEmpty=!1,t.psIsEmpty=!1,t.Issuccess=!1,t.Isdanger=!1,t.$message({message:"注册成功,赶快登陆吧！",type:"success"}),t.$router.push({path:"/Login"})):t.$message.error("注册失败,网络异常！")}):this.password!=this.enterpassword?this.$message({message:"两次密码不一样哦,请重新确认密码！",type:"warning"}):this.$message({message:"表单数据不合法,请修正后再提交！",type:"warning"})},checkSaleName:function(){var t=this;this.nIsEmpty=""===this.salename,this.$axios.get("http://localhost:8080/SSMWW/checkname.do?salename="+this.salename).then(function(e){var s=e.data;console.log(s),t.nIsEmpty?(console.log("走名字为空"),t.classSelect="invalid-feedback",t.Issuccess=!1,t.Isdanger=!1):s?(t.Issuccess=!1,t.Isdanger=!0,t.classSelect="invalid-feedback",console.log("名字不为空   账号已存在"+t.Issuccess,t.Isdanger),t.altermsg="这个是本网站的老用户了哦，快输入密码登录吧"):s||(t.Issuccess=!0,t.Isdanger=!1,t.classSelect="valid-feedback",console.log("名字不为空   账号不存在"+t.Issuccess,t.Isdanger),t.altermsg="你输入的账号可能还不存在，赶快去注册吧")})},checkPassWord:function(){this.psIsEmpty=""===this.password},checkEnterPassWord:function(){""!=this.enterpassword&&this.enterpassword===this.password?this.epsIsEmpty=!1:(this.epsAlert=this.enterpassword!=this.password?"两次密码不一样哦":"密码不能为空哦",this.epsIsEmpty=!0)}}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-md-12 col-lg-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("img",{staticClass:"img-fluid center-block mx-auto d-block",attrs:{src:"https://cn.vuejs.org/images/logo.png"}}),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"sn"}},[t._v("用户名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.salename,expression:"salename"}],staticClass:"form-control",class:{"is-valid":t.Issuccess,"is-invalid":t.Isdanger},attrs:{placeholder:"请输入用户名",type:"text",id:"sn"},domProps:{value:t.salename},on:{blur:t.checkSaleName,input:function(e){e.target.composing||(t.salename=e.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.Isdanger||t.Issuccess,expression:"Isdanger||Issuccess"}],class:[t.classSelect]},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.altermsg)+"\n\t\t\t\t\t\t")]),t._v(" "),t.nIsEmpty?s("label",{staticClass:"alert alert-warning",attrs:{for:"password"}},[t._v(t._s(t.nAlert))]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"ps"}},[t._v("密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"请输密码",type:"password",id:"ps"},domProps:{value:t.password},on:{blur:t.checkPassWord,input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.psIsEmpty?s("label",{staticClass:"alert alert-warning",attrs:{for:"password"}},[t._v(t._s(t.psAlert))]):t._e()]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"nps"}},[t._v("确认密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.enterpassword,expression:"enterpassword"}],staticClass:"form-control",attrs:{placeholder:"请输密码",type:"password",id:"nps"},domProps:{value:t.enterpassword},on:{blur:t.checkEnterPassWord,input:function(e){e.target.composing||(t.enterpassword=e.target.value)}}}),t._v(" "),t.epsIsEmpty?s("label",{staticClass:"alert alert-warning",attrs:{for:"password"}},[t._v(t._s(t.epsAlert))]):t._e()]),t._v(" "),s("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("注册")])])])])])])},staticRenderFns:[]},A=s("C7Lr")($,L,!1,null,null,null).exports,E={name:"print",data:function(){return{orders:[]}},methods:{printPage:function(){window.print()},getPrintOrders:function(){var t=this,e=JSON.parse(localStorage.getItem("ordercodes"));console.log(e),this.$axios.post("http://localhost:8080/WaterWarm1.0/GetPrintOrders",e).then(function(e){console.log(e.data),t.orders=e.data})}},created:function(){this.getPrintOrders()}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"background-color":"#F0F0F0",width:"100%",height:"100%",overflow:"auto"},attrs:{id:"maindiv"}},[s("button",{staticClass:"btn btn-success",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:function(e){t.printPage()}}},[t._v("打印所选项")]),t._v(" "),s("div",{attrs:{id:"print"}},t._l(t.orders,function(e,a){return s("div",{staticClass:"col-lg-9",staticStyle:{"background-color":"#fff"}},[s("p",{staticStyle:{color:"blue"}},[t._v("订单号:"+t._s(e.ordercode))]),t._v(" "),s("p",{staticStyle:{color:"blue"}},[t._v("下单时间:"+t._s(e.confirmdate))]),t._v(" "),s("table",{staticClass:"table"},[t._m(0,!0),t._v(" "),s("tbody",t._l(e.detail,function(e,a){return s("tr",[s("td",[t._v(t._s(a))]),t._v(" "),s("td",[t._v(t._s(e.goodsname))]),t._v(" "),s("td",[t._v(t._s(e.price))]),t._v(" "),s("td",[t._v(t._s(e.number))]),t._v(" "),s("td",[t._v(t._s(e.number*e.price))])])}))]),t._v(" "),s("p",{staticClass:"text-right",staticStyle:{color:"red"}},[t._v("总计:"+t._s(e.countprice)+"元")]),t._v(" "),s("p",{staticClass:"text-right",staticStyle:{color:"red"}},[t._v("销售人员:"+t._s(e.salename))])])}))])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"thead-default"},[s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("商品名称")]),t._v(" "),s("th",[t._v("单价")]),t._v(" "),s("th",[t._v("个数")]),t._v(" "),s("th",[t._v("合计")])])])}]};var W=s("C7Lr")(E,M,!1,function(t){s("ma6V")},"data-v-5b9ff89e",null).exports,N={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("第一页内容")])},staticRenderFns:[]},O={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("第二页内容")])},staticRenderFns:[]},T={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[e("h1",[this._v("第三页内容")])])}]},D={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("第四页内容")])},staticRenderFns:[]},R=[{path:"/",name:"homelink",component:u},{path:"/goodslist",name:"goodslistlink",component:g},{path:"/goodsorders",name:"goodsorderslink",component:b},{path:"/addgoods",name:"addgoodslink",component:C},{path:"/about",name:"aboutlink",component:x,children:[{path:"/aboutone",name:"aboutone",component:s("C7Lr")(null,N,!1,null,null,null).exports},{path:"/abouttwo",name:"abouttwo",component:s("C7Lr")(null,O,!1,null,null,null).exports},{path:"/aboutthree",name:"aboutthree",component:s("C7Lr")(null,T,!1,null,null,null).exports},{path:"/aboutfour",name:"aboutfour",component:s("C7Lr")(null,D,!1,null,null,null).exports}]},{path:"/login",name:"loginlink",component:I},{path:"/register",name:"registerlink",component:A},{path:"/print",name:"print",component:W},{path:"*",redirect:"homelink"}],P=s("aozt"),z=s.n(P),F=s("t+b9"),B=s.n(F);a.default.use(B.a,{size:"small"}),a.default.use(o.a),a.default.prototype.$axios=z.a;var j=new o.a({routes:R});j.beforeEach(function(t,e,s){var a=localStorage.getItem("salename");null==a||""==a?"/Login"==t.path||"/Register"==t.path?s():alert("请先登录"):s()}),new a.default({el:"#app",router:j,render:function(t){return t(c)}})},ma6V:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.275e88d3959d53b67ded.js.map