webpackJsonp([13],{gTAA:function(t,e){},uL6K:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"addresslist",data:function(){return{pagenow:1,pagelimit:10,itemcount:0,pagecount:1,itemALLcount:0,pagesizes:[5,10,15,20],resultaddress:[],dialogNewAddress:!1,dialogFormVisible:!1,form:{"地址号":"","接收人":"","接收电话":"","收货地址":""},editerIndex:0}},methods:{tableRowClassName:function(t){var e=t.row,s=t.rowIndex;e.index=s},doNewAddress:function(){var t=this,e=this.form,s=e.地址号,o=e.接收人,a=e.接收电话,i=e.收货地址,n={};""==this.form.接收人||""==this.form.接收电话||""==this.form.收货地址?this.$message({message:"编辑框内容不能为空",type:"warning"}):(n.addressid=s,n.receivename=o,n.receivephone=a,n.address=i,console.log(n),this.$axios.post("http://localhost:8080/SSMWW/addAddress.do",n).then(function(e){var s=e.data;console.log(s),"200"==s.code&&"添加成功"==s.msg?(t.$message({message:"恭喜你，添加成功",type:"success"}),t.getAddressALL()):t.$message({message:"不好意思，添加失败",type:"warning"}),t.dialogNewAddress=!1}))},newAddress:function(){this.dialogNewAddress=!0,this.form.地址号="",this.form.接收人="",this.form.接收电话="",this.form.收货地址=""},doediter:function(){var t=this,e=this.form,s=e.地址号,o=e.接收人,a=e.接收电话,i=e.收货地址,n={};""==this.form.接收人||""==this.form.接收电话||""==this.form.收货地址?this.$message({message:"编辑框内容不能为空",type:"warning"}):(n.addressid=s,n.receivename=o,n.receivephone=a,n.address=i,console.log(n),this.$axios.post("http://localhost:8080/SSMWW/updateAddress.do",n).then(function(e){var s=e.data;console.log(s),"200"==s.code&&"更新成功"==s.msg?(t.$message({message:"恭喜你，更改成功",type:"success"}),t.getAddressALL()):t.$message({message:"不好意思，更改失败",type:"warning"}),t.dialogFormVisible=!1}))},editer:function(t){this.dialogFormVisible=!0,this.editerIndex=t,this.form.地址号=this.resultaddress[t].addressid,this.form.接收人=this.resultaddress[t].receivename,this.form.接收电话=this.resultaddress[t].receivephone,this.form.收货地址=this.resultaddress[t].address},deleteAddress:function(t){var e=this;this.$confirm("删除此地址,该地址所产生的所有订单将无法显示地址信息,是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.dodelete(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},dodelete:function(t){var e=this;console.log(this.resultaddress[t].addressid),this.$axios.get("http://localhost:8080/SSMWW/deleteAddressById.do?addressid="+this.resultaddress[t].addressid).then(function(t){var s=t.data;console.log(s),"200"==s.code&&"删除成功"==s.msg?(e.$message({message:"恭喜你，删除成功",type:"success"}),e.getAddressALL()):e.$message({message:"不好意思，删除失败",type:"warning"})})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pagelimit=t,this.getAddressALLByPage(),this.getItemALLCount()},handleCurrentChange:function(t){console.log("当前页: "+t),this.pagenow=t,this.getAddressALLByPage(),this.getItemALLCount()},getAddressALLByPage:function(){var t=this;this.$axios.get("http://localhost:8080/SSMWW/addressALLByPage.do?pageNow="+this.pagenow+"&pageLimit="+this.pagelimit).then(function(e){console.log(e.data),t.resultaddress=e.data,t.itemcount=e.data.length})},getItemALLCount:function(){var t=this;this.$axios.get("http://localhost:8080/SSMWW/addressCount.do").then(function(e){t.itemALLcount=e.data})},getAddressALL:function(){var t=this;this.$axios.get("http://localhost:8080/SSMWW/addressALL.do").then(function(e){console.log(e.data),t.resultaddress=e.data,t.itemcount=e.data.length})}},created:function(){this.getAddressALL()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("center",[s("button",{staticClass:"btn btn-sm btn-success",staticStyle:{"margin-bottom":"5px"},on:{click:t.newAddress}},[t._v("新建地址")])]),t._v(" "),s("el-dialog",{attrs:{title:"地址添加",visible:t.dialogNewAddress},on:{"update:visible":function(e){t.dialogNewAddress=e}}},[s("form",t._l(t.form,function(e,o,a){return s("div",["地址号"!=o?s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 offset-sm-1 col-form-label",attrs:{for:"aaa",disabled:"地址号"==o}},[t._v(t._s(o))]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("input",{directives:[{name:"model",rawName:"v-model:value",value:t.form[o],expression:"form[key]",arg:"value"}],staticClass:"form-control",attrs:{type:"text",id:"aaa"},domProps:{value:t.form[o]},on:{input:function(e){e.target.composing||t.$set(t.form,o,e.target.value)}}})])]):t._e()])})),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogNewAddress=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doNewAddress()}}},[t._v("确 定")])],1)]),t._v(" "),s("div",{staticClass:"row"},[s("el-table",{staticStyle:{width:"100%","text-align":"center","font-size":"15px"},attrs:{data:t.resultaddress,"max-height":"700",border:"","row-class-name":t.tableRowClassName}},[s("el-table-column",{attrs:{label:"序号",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t"+t._s(e.row.index+1)+"\n\t\t\t\t")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"receivename",label:"收货人",width:"200",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"receivephone",label:"收货人电话",width:"200",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"address",label:"详细地址",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{label:"编辑",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("button",{staticClass:"btn btn-sm btn-outline-success",on:{click:function(s){t.editer(e.row.index)}}},[t._v("\n\t\t\t\t修改\n\t\t\t\t")]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(s){t.deleteAddress(e.row.index)}}},[t._v("\n\t\t\t\t删除\n\t\t\t\t")])]}}])})],1),t._v(" "),s("el-dialog",{attrs:{title:"地址修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("form",t._l(t.form,function(e,o,a){return s("div",["地址号"!=o?s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 offset-sm-1 col-form-label",attrs:{for:"aaa",disabled:"地址号"==o}},[t._v(t._s(o))]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("input",{directives:[{name:"model",rawName:"v-model:value",value:t.form[o],expression:"form[key]",arg:"value"}],staticClass:"form-control",attrs:{type:"text",id:"aaa"},domProps:{value:t.form[o]},on:{input:function(e){e.target.composing||t.$set(t.form,o,e.target.value)}}})])]):t._e()])})),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doediter()}}},[t._v("确 定")])],1)])],1)],1)},staticRenderFns:[]};var i=s("C7Lr")(o,a,!1,function(t){s("gTAA")},null,null);e.default=i.exports}});